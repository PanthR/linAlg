<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="doc.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <title>Matrix</title>
  </head>
  <body>
    <div id="header">
    <h1>Documentation for module <code>Matrix</code>
      
      </h1>
    </div>
    <div id="sidebar">
      <div>
        <h3>Module Index</h3>
      <ul>
        
        <a href="LinAlg.html"><li><code>LinAlg</code></li></a>
        
        <a href="Matrix.html"><li><code>Matrix</code></li></a>
        
        <a href="Permutation.html"><li><code>Permutation</code></li></a>
        
        <a href="utils.html"><li><code>utils</code></li></a>
        
        <a href="Vector.html"><li><code>Vector</code></li></a>
        
      </ul>
      </div>
      <div>
        <h3>Contents</h3>
      <ul>
        
        <a href="#DenseM.SparseM"><li><code>DenseM.SparseM</code></li></a>
        
        <a href="#DenseM.TabularM"><li><code>DenseM.TabularM</code></li></a>
        
        <a href="#StructuredM.DiagM"><li><code>StructuredM.DiagM</code></li></a>
        
        <a href="#Matrix"><li><code>Matrix</code></li></a>
        
        <a href="#Matrix.DenseM"><li><code>Matrix.DenseM</code></li></a>
        
        <a href="#Matrix.StructuredM"><li><code>Matrix.StructuredM</code></li></a>
        
        <a href="#Matrix.ViewM"><li><code>Matrix.ViewM</code></li></a>
        
        <a href="#Matrix.ViewMV"><li><code>Matrix.ViewMV</code></li></a>
        
        <a href="#Matrix.diag"><li><code>Matrix.diag</code></li></a>
        
        <a href="#Matrix%25_get"><li><code>Matrix#_get</code></li></a>
        
        <a href="#Matrix%25_set"><li><code>Matrix#_set</code></li></a>
        
        <a href="#Matrix%25change"><li><code>Matrix#change</code></li></a>
        
        <a href="#Matrix%25clone"><li><code>Matrix#clone</code></li></a>
        
        <a href="#Matrix%25colView"><li><code>Matrix#colView</code></li></a>
        
        <a href="#Matrix%25compute"><li><code>Matrix#compute</code></li></a>
        
        <a href="#Matrix%25diagView"><li><code>Matrix#diagView</code></li></a>
        
        <a href="#Matrix%25each"><li><code>Matrix#each</code></li></a>
        
        <a href="#Matrix%25eachCol"><li><code>Matrix#eachCol</code></li></a>
        
        <a href="#Matrix%25eachRow"><li><code>Matrix#eachRow</code></li></a>
        
        <a href="#Matrix%25forEach"><li><code>Matrix#forEach</code></li></a>
        
        <a href="#Matrix%25force"><li><code>Matrix#force</code></li></a>
        
        <a href="#Matrix%25get"><li><code>Matrix#get</code></li></a>
        
        <a href="#Matrix%25mapCol"><li><code>Matrix#mapCol</code></li></a>
        
        <a href="#Matrix%25mapRow"><li><code>Matrix#mapRow</code></li></a>
        
        <a href="#Matrix%25mutable"><li><code>Matrix#mutable</code></li></a>
        
        <a href="#Matrix%25reduce"><li><code>Matrix#reduce</code></li></a>
        
        <a href="#Matrix%25reduceCol"><li><code>Matrix#reduceCol</code></li></a>
        
        <a href="#Matrix%25reduceRow"><li><code>Matrix#reduceRow</code></li></a>
        
        <a href="#Matrix%25rowView"><li><code>Matrix#rowView</code></li></a>
        
        <a href="#Matrix%25sameDims"><li><code>Matrix#sameDims</code></li></a>
        
        <a href="#Matrix%25set"><li><code>Matrix#set</code></li></a>
        
        <a href="#Matrix%25toArray"><li><code>Matrix#toArray</code></li></a>
        
        <a href="#Matrix%25toVector"><li><code>Matrix#toVector</code></li></a>
        
        <a href="#Matrix%25validIndices"><li><code>Matrix#validIndices</code></li></a>
        
        <a href="#Matrix%25view"><li><code>Matrix#view</code></li></a>
        
      </ul>
      </div>
    </div>
    <div id="main">
      <div class="moduleInfo">
        <h2>Module <code>Matrix</code></h2>
        <p>Author(s): <a class="author" href="mailto:skiadas@hanover.edu">Haris Skiadas</a>, <a class="author" href="mailto:wahl@hanover.edu">Barb Wahl</a><p>
        <p>Javascript implementation of Linear Algebra Matrices.</p>
      </div>
      
      <div>
        <h4 id="Matrix"><code>Matrix(arr, options)</code></h4>
        <p>The <a href="#Matrix"><code>Matrix</code></a> class is a representation of 2-dimensional algebraic matrices
with real entries. Their values are internally represented as <a href="#Vector"><code>Vector</code></a>s.
One can access the matrix dimensions via the properties <code>nrow</code> and <code>ncol</code>.</p>
<p>New <a href="#Matrix"><code>Matrix</code></a> objects are created via the <a href="#Matrix"><code>Matrix</code></a> constructor, which accepts
a number of options for its first argument, <code>arr</code>:</p>
<ol>
<li>Called with another <a href="#Matrix"><code>Matrix</code></a>, simply returns the matrix itself.</li>
<li>Called with a single array of values, constructs a matrix based on these values.
The dimensions and other properties of this array are determined by the second
argument, which is an object <code>options</code> containg one or more of the keys
<code>nrow</code>, <code>ncol</code>, <code>byRow</code>.</li>
<li>Called with an array of arrays of values, it constructs a matrix with columns
based on those arrays. The number of arrays (length of <code>arr</code>) becomes <code>ncol</code>. The
arrays in <code>arr</code> are expected to have the same length, and that becomes <code>nrow</code>.
The options object is optional, but may contain a &quot;byRow&quot; entry, which if <code>true</code>
indicates that the roles of <code>column</code> and <code>row</code> would be interchanged, i.e.
the arrays in <code>arr</code> would become rows instead of columns.</li>
<li>Called with a function <code>f(i,j)</code>, it uses that function to determine the <a href="#Matrix"><code>Matrix</code></a>'s
values. In that case an <code>options</code> second argument specifying <code>nrow</code> and <code>ncol</code> is needed.</li>
</ol>
<p>Examples:</p>
<pre class="prettyprint source"><code>// All these create:
//        0 1 1
//        2 0 1
//
new Matrix([0, 2, 1, 0, 1, 1], { nrow : 2 }); // by column default
new Matrix([0, 1, 1, 2, 0, 1], { nrow : 2, byRow: true });
new Matrix([[0, 1, 1], [2, 0, 1]], { byRow : true });
new Matrix([[0, 2], [1, 0], [1, 1]]);
// Sparse matrix:
new Matrix({ 1: { 2: 1, 3: 1}, 2: { 1: 2, 3: 1 }}, { nrow : 2, ncol: 3 });

// The following produces in rows: [[1, 2, 3], [2, 4, 6]]
new Matrix(function(i, j) { return i * j; }, { nrow: 2, ncol: 3 });</code></pre>
      </div>
      
      <div>
        <h4 id="Matrix.DenseM"><code>Matrix.DenseM</code></h4>
        <p>Subclass of <a href="#Matrix"><code>Matrix</code></a> representing &quot;dense&quot; matrices.
Dense matrices are internally stored simply as Javascript Arrays.
Users should not need to access this subclass directly.</p>
      </div>
      
      <div>
        <h4 id="Matrix.StructuredM"><code>Matrix.StructuredM</code></h4>
        <p>Subclass of <a href="#Matrix"><code>Matrix</code></a> acting as a superclass for classes of matrices
with extra structure. Users should not need to access this subclass
directly.</p>
      </div>
      
      <div>
        <h4 id="Matrix.ViewM"><code>Matrix.ViewM</code></h4>
        <p>Subclass of <a href="#Matrix"><code>Matrix</code></a> representing submatrix views into another matrix. Changes
to the view are reflected on the original matrix and vice-versa. Use
<a href="#Matrix%25view"><code>Matrix.prototype.view</code></a> to create these.</p>
<p>See also: <a href="#Matrix%25rowView"><code>Matrix.prototype.rowView</code></a>, <a href="#Matrix%25colView"><code>Matrix.prototype.colView</code></a>,
<a href="#Matrix%25diagView"><code>Matrix.prototype.diagView</code></a>.</p>
      </div>
      
      <div>
        <h4 id="Matrix.ViewMV"><code>Matrix.ViewMV</code></h4>
        <p>Subclass of Vector that is used internally by <a href="#Matrix"><code>Matrix</code></a> for representing
the rows/columns/diagonals of a matrix as vectors.</p>
<p>For creating these, see: <a href="#Matrix%25rowView"><code>Matrix.prototype.rowView</code></a>, <a href="#Matrix%25colView"><code>Matrix.prototype.colView</code></a>,
<a href="#Matrix%25diagView"><code>Matrix.prototype.diagView</code></a>.</p>
      </div>
      
      <div>
        <h4 id="Matrix.diag"><code>Matrix.diag(diagonal, len)</code></h4>
        <p>Return a square diagonal matrix with values given by <code>diagonal</code>. The argument
<code>diagonal</code> may be an array, a <a href="#Vector"><code>Vector</code></a>, or a function <code>f(i)</code>. In the latter case,
a second argument <code>len</code> is required to provide the length of the resulting diagonal.</p>
<p>To obtain a diagonal of an arbitrary matrix, see <a href="#Matrix%25diagView"><code>Matrix.prototype.diagView</code></a>.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25get"><code>Matrix#get(i, j)</code></h4>
        <p>Return the value at location <code>(i, j)</code>. Returns <code>0</code> if accessing a location out
of bounds.</p>
<p>Called with 0 or 1 arguments, it is an alias for <a href="#Matrix%25toArray"><code>Matrix.prototype.toArray</code></a>.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25_get"><code>Matrix#_get(i, j)</code></h4>
        <p>Internally used by <a href="#Matrix%25get"><code>Matrix.prototype.get</code></a>. May be used in place of
<a href="#Matrix%25get"><code>Matrix.prototype.get</code></a> if both arguments are always present.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25compute"><code>Matrix#compute(i, j)</code></h4>
        <p>Computes the value at the (i, j) location. <em>Internal method</em>. Use <a href="#Matrix%25get"><code>Matrix.prototype.get</code></a>
instead.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25set"><code>Matrix#set(i, j, val)</code></h4>
        <p>Set the value of the matrix at the <code>(i, j)</code> location to <code>val</code>. Requires that
the matrix be set to be mutable.</p>
<p>If called with only one argument, then that argument may be a function <code>f(i, j)</code>, or
a single value, or a <a href="#Matrix"><code>Matrix</code></a> with the same dimensions. That argument will then be used
to set all the values of the Matrix.</p>
<pre class="prettyprint source"><code>var A1 = new Matrix([1, 2, 3, 4, 5, 6], { nrow: 2, byRow: true });
A1.set(1, 1, 42);    // Throws an exception
A1.mutable(true);    // Set matrix to mutable
A1.set(2, 2, 42);    // Changes 5 to 42
A1.set(Math.random); // Fills A1 with random values
A1.set(5);           // Sets all entries to 5
var A2 = new Matrix([1, 2, 3, 4, 5, 6], { nrow: 2, byRow: true });
A1.set(A2);          // Sets all values of A1 based on those from A2
A1.set(1, 1, 42);    // Only changes A1, not A2</code></pre><p>Trying to set at an out-of-bounds location results in an exception. If the matrix is
&quot;structured&quot;, trying to set at a location outside the structure (e.g. an off-diagonal
entry of a diagonal matrix) also results in an exception.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25_set"><code>Matrix#_set(i, j, val)</code></h4>
        <p>Internally used by <a href="#Matrix%25set"><code>Matrix.prototype.set</code></a>. <em>Internal method</em>. May be used
instead of <a href="#Matrix%25_set"><code>Matrix.prototype._set</code></a> if all three arguments are always present.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25change"><code>Matrix#change(i, j, val)</code></h4>
        <p>Internal method used by <a href="#Matrix%25_set"><code>Matrix.prototype._set</code></a> to change the value of the
matrix at a particular location. <em>Internal method</em>. This method bypasses
various checks and should only be used with extreme care.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25toArray"><code>Matrix#toArray(byRow)</code></h4>
        <p>Return an array of arrays representing the matrix. This representation is
as an array of columns (or an array of rows if <code>byRow</code> is <code>true</code>).</p>
<pre class="prettyprint source"><code>var A = new Matrix([1, 2, 3, 4, 5, 6], { byRow: true, nrow: 3 });
A.toArray(true);  // [[1, 2], [3, 4], [5, 6]]
A.toArray(false); // [[1, 3, 5], [2, 4, 6]]</code></pre>
      </div>
      
      <div>
        <h4 id="Matrix%25toVector"><code>Matrix#toVector(byRow)</code></h4>
        <p>Return a flat vector of the matrix values by concatenating its
columns (or its rows if <code>byRow</code> is true). This is not a view into
the matrix, and cannot be used to change the matrix values.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25force"><code>Matrix#force()</code></h4>
        <p>Force unresolved computations for the matrix.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25clone"><code>Matrix#clone(faithful)</code></h4>
        <p>Create a clone of the matrix. The clone inherits the values that the matrix
has at the time of cloning. If <code>faithful</code> is <code>true</code> (default), then the clone
also inherits any structure (e.g. being diagonal) when possible.</p>
<p>Unfaithful clones are useful if you want to set values of a structured matrix
outside of the structure (e.g. setting off-diagonal elements on a diagonal matrix).
In general, <a href="#Matrix%25set"><code>Matrix.prototype.set</code></a> respects any imposed structure the matrix has
on its creation.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25view"><code>Matrix#view(rowIndex, colIndex, dims)</code></h4>
        <p>Return a view into a submatrix of <code>this</code>.</p>
<p>The parameters <code>rowIndex</code>, <code>colIndex</code>
may be either arrays or functions <code>f(i)</code> used to obtain the indices.
In the latter case, a third argument <code>dims</code> is required.</p>
<p><code>dims</code> is an object with properties <code>nrow</code> or <code>ncol</code> as needed, specifying the
dimensions of the resulting matrix.</p>
<pre class="prettyprint source"><code>// A 2x3 matrix
var A1 = new Matrix([2, 3, 4, 5, 6, 7], { nrow: 2 });
// Both return a view into the 2nd & 3rd columns as a 2x2 matrix
var A2 = A1.view([1, 2], [2, 3]);
var A2 = A1.view([1, 2], function(j) { return 1 + j; }, { ncol: 2 });</code></pre><p>The View matrix (vector) is linked to the original matrix.
The mutable state of the view is that of the original
matrix. Changing the values in the view also changes the values in the matrix,
and vice versa. Use <a href="#Matrix%25clone"><code>Matrix.prototype.clone</code></a> on the view matrix to break the link.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25rowView"><code>Matrix#rowView(i)</code></h4>
        <p>Return a <a href="#Vector"><code>Vector</code></a> view of the <code>i</code>-th row of the matrix.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25colView"><code>Matrix#colView(j)</code></h4>
        <p>Return a <a href="#Vector"><code>Vector</code></a> view of the <code>j</code>-th column of the matrix.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25diagView"><code>Matrix#diagView(offset)</code></h4>
        <p>Return a <a href="#Vector"><code>Vector</code></a> view of the diagonal of the matrix specified by
the given <code>offset</code> (defaults to 0). The main diagonal has offset 0, the diagonal
above it has offset 1, while the one below the main diagonal has offset -1.
Asking for a diagonal beyond the matrix bounds results in an error.</p>
<pre class="prettyprint source"><code>var A1 = new Matrix([2, 3, 4, 5, 6, 7], { nrow: 2 });
A1.diagView();    // [2, 5];
A1.diagView(-1);  // [3];
A1.diagView(1);   // [4, 7];
A1.diagView(2);   // [6];
A1.diagView(3);   // Error;</code></pre>
      </div>
      
      <div>
        <h4 id="Matrix%25mutable"><code>Matrix#mutable(newSetting)</code></h4>
        <p>With no arguments, returns the mutable state of the matrix.</p>
<p>With a boolean argument, sets the mutable state of the matrix and returns
the matrix.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25each"><code>Matrix#each(f)</code></h4>
        <p>Apply the given function to each entry in the matrix. The signature of the
function is <code>f(val, i, j)</code>.</p>
<p><code>Each</code> respects the &quot;structure&quot; of the matrix. For instance
on a Sparse matrix, it will only be called on the non-zero entries, on a
DiagM matrix it will only be called on the diagonal entries and so on.</p>
<p>If you really need the function to be called on <em>each</em> matrix entry, regardless of
structure, then you should use <a href="#Matrix%25clone"><code>Matrix.prototype.clone</code></a> first to create an
&quot;unfaithful clone&quot;.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25forEach"><code>Matrix#forEach(f)</code></h4>
        <p>Alias for <a href="#Matrix%25each"><code>Matrix.prototype.each</code></a></p>
      </div>
      
      <div>
        <h4 id="Matrix%25eachRow"><code>Matrix#eachRow(f)</code></h4>
        <p>Apply the function <code>f</code> to each row in the matrix. The signature of <code>f</code> is
<code>f(row, i)</code> where <code>row</code> is a <a href="#Vector"><code>Vector</code></a> object representing the <code>i</code>-th row.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25eachCol"><code>Matrix#eachCol(f)</code></h4>
        <p>Apply the function <code>f</code> to each column in the matrix. The signature of <code>f</code> is
<code>f(col, j)</code> where <code>col</code> is a <a href="#Vector"><code>Vector</code></a> object representing the <code>j</code>-th col.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25reduce"><code>Matrix#reduce(f, initial)</code></h4>
        <p>Return the accumulated value of the calls of <code>f(acc, val, i, j)</code> over the entries
of the matrix, with <code>acc</code> starting with value <code>initial</code>.</p>
<p><a href="#Matrix%25reduce"><code>Matrix.prototype.reduce</code></a> is similar to <a href="#Matrix%25each"><code>Matrix.prototype.each</code></a> in how it deals
with structured matrices.</p>
<p>Compare with <a href="#Vector%25reduce"><code>Vector.prototype.reduce</code></a>.</p>
<pre class="prettyprint source"><code>var A = new Matrix(Math.random, { nrow: 3, ncol: 2 });
// Counts the number of entries in A which exceed 0.5
A.reduce(function(acc, val, i, j) {
  return acc + (val > 0.5 ? 1 : 0);
}, 0);</code></pre>
      </div>
      
      <div>
        <h4 id="Matrix%25reduceRow"><code>Matrix#reduceRow(f, initial)</code></h4>
        <p>Return the accumulated value of the calls of <code>f(acc, row, i, j)</code> over the rows
of the matrix, with <code>acc</code> starting with value <code>initial</code>.</p>
<pre class="prettyprint source"><code>// Add the rows in A with 2-norm >= 1
A.reduce(function(acc, row, i, j) {
  if (row.norm() >= 1) { return acc.pAdd(row); }
  return acc;
}, Vector.const(0, A.ncol));</code></pre>
      </div>
      
      <div>
        <h4 id="Matrix%25reduceCol"><code>Matrix#reduceCol(f, initial)</code></h4>
        <p>Return the accumulated value of the calls of <code>f(acc, col, i, j)</code> over the columns
of the matrix, with <code>acc</code> starting with value <code>initial</code>.</p>
      </div>
      
      <div>
        <h4 id="Matrix%25mapRow"><code>Matrix#mapRow(f)</code></h4>
        <p>TODO</p>
      </div>
      
      <div>
        <h4 id="Matrix%25mapCol"><code>Matrix#mapCol(f)</code></h4>
        <p>TODO</p>
      </div>
      
      <div>
        <h4 id="Matrix%25sameDims"><code>Matrix#sameDims(other)</code></h4>
        <p>Return whether the matrix has the same dimensions as the matrix <code>other</code></p>
      </div>
      
      <div>
        <h4 id="Matrix%25validIndices"><code>Matrix#validIndices(i, j)</code></h4>
        <p>Returns whether the (i, j) pair is within the matrix's bounds.</p>
      </div>
      
      <div>
        <h4 id="DenseM.SparseM"><code>DenseM.SparseM</code></h4>
        <p>Subclass of <a href="#Matrix"><code>Matrix</code></a> representing &quot;sparse&quot; matrices.
Sparse matrices are stored as objects, whose keys represent the indices
that have non-zero values.
Users should not need to access this subclass directly.</p>
      </div>
      
      <div>
        <h4 id="DenseM.TabularM"><code>DenseM.TabularM</code></h4>
        <p>Subclass of <a href="#Matrix"><code>Matrix</code></a> representing matrices whose values are specified via
a function <code>f(i)</code> of the index.
The values of the matrix are computed lazily, only when they are accessed.
Users should not need to access this subclass directly.</p>
      </div>
      
      <div>
        <h4 id="StructuredM.DiagM"><code>StructuredM.DiagM</code></h4>
        <p>Subclass of <a href="#Matrix"><code>Matrix</code></a> representing diagonal matrices.
Users should not need to access this subclass directly.</p>
      </div>
      
    </div>
  </body>
</html>